(self.webpackChunkpodbook=self.webpackChunkpodbook||[]).push([[393],{6393:(t,e,n)=>{"use strict";n.r(e),n.d(e,{StudioModule:()=>kt});var o=n(8583),i=n(2241),r=n(2800),s=n(2300),c=n(8686),a=n(5309),l=n(5262),d=n(519),g=n(639),u=n(2340),p=n(6215),m=n(5917),f=n(1841),h=n(1088);class b{}let C=(()=>{class t{constructor(t,e){this.httpClient=t,this.userService=e,this.currentActiveTab=new p.X("")}getMyPodbooks({limit:t,page:e=1}){var n;const o=null===(n=this.userService.getUserRawData())||void 0===n?void 0:n.user_id;if(!o)return(0,m.of)(new Error("Informe o id do usu\xe1rio"));const{host:i,port:r,url:s}=u.N.apiRequest;return this.httpClient.get(`${i}:${r}${s}/my-podbooks/${o}`,{params:{limit:t,page:e}})}}return t.\u0275fac=function(e){return new(e||t)(g.LFG(f.eN),g.LFG(h.K))},t.\u0275prov=g.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var O=n(9763),M=n(6959);const _=function(t){return{"min-height.px":t}};let P=(()=>{class t{constructor(t,e){this.studioService=t,this.commonService=e,this.my_cards=[],this.paginationMetadata={}}ngOnInit(){this.studioService.getMyPodbooks({limit:15,page:1}).subscribe(t=>{t instanceof Error||(t.data.length?(this.my_cards=this.commonService.preparePodBookPaginatedData(t.data)||[],this.paginationMetadata=t.paginationMetadata):this.my_cards=[])})}}return t.\u0275fac=function(e){return new(e||t)(g.Y36(b),g.Y36(O.e))},t.\u0275cmp=g.Xpm({type:t,selectors:[["pod-my-podbooks"]],decls:6,vars:4,consts:[[1,"my-podbooks"],[1,"my-podbooks-container"],[3,"cardsList","ngStyle"]],template:function(t,e){1&t&&(g.TgZ(0,"div",0),g.TgZ(1,"header"),g.TgZ(2,"h2"),g._uU(3,"PODBOOKS"),g.qZA(),g.qZA(),g.TgZ(4,"div",1),g._UZ(5,"pod-cards-container",2),g.qZA(),g.qZA()),2&t&&(g.xp6(5),g.Q6J("cardsList",e.my_cards)("ngStyle",g.VKq(2,_,100*e.my_cards.length)))},directives:[M.t,o.PC],styles:['[_nghost-%COMP%]{display:block;margin-bottom:10rem}[_nghost-%COMP%]   .my-podbooks[_ngcontent-%COMP%]{margin-top:10rem}[_nghost-%COMP%]   .my-podbooks[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]{text-align:center;display:flex;justify-content:center}[_nghost-%COMP%]   .my-podbooks[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#8348ff;font-size:2rem;display:flex;justify-content:space-between;align-items:center;grid-column-gap:2rem;column-gap:2rem}[_nghost-%COMP%]   .my-podbooks[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]:after, [_nghost-%COMP%]   .my-podbooks[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]:before{content:"";height:1px;width:5rem;display:block;background-color:#8348ff;animation:lineAnimation .3s ease forwards}@keyframes lineAnimation{0%{width:0}to{width:5rem}}[_nghost-%COMP%]   .my-podbooks[_ngcontent-%COMP%]   .my-podbooks-container[_ngcontent-%COMP%]{margin-top:5rem}']}),t})();function v(t,e,n,o,i,r,s){try{var c=t[r](s),a=c.value}catch(l){return void n(l)}c.done?e(a):Promise.resolve(a).then(o,i)}function y(t){return function(){var e=this,n=arguments;return new Promise(function(o,i){var r=t.apply(e,n);function s(t){v(r,o,i,s,c,"next",t)}function c(t){v(r,o,i,s,c,"throw",t)}s(void 0)})}}var x=n(2416),k=n(4911);const w={recording:"--recording",stopped:"--stopped"};var Z=n(7709),A=n(8049),I=n(6782),S=n(3342),q=(()=>(function(t){t.RECORDING="recording",t.STOPPED="stopped"}(q||(q={})),q))();let T=(()=>{class t{constructor(t){this.http=t,this.audioChunks=[],this.mediaRecorder=new MediaRecorder(new MediaStream)}get recorder(){return this.mediaRecorder}recordAudio(){var t=this;return y(function*(){if(!((yield navigator.mediaDevices.enumerateDevices()).filter(t=>"audioinput"===t.kind).length>0))throw{message:"Microfone not connected"};const e=yield navigator.mediaDevices.getUserMedia({audio:!0}),n=new MediaRecorder(e);return n.addEventListener("dataavailable",e=>{e.data.size>0&&t.audioChunks.push(e.data)}),{start:()=>{t.audioChunks=[],n.start()},stop:e=>{n.addEventListener("stop",()=>{const n=new Blob(t.audioChunks,{type:"audio/mp3"}),o=URL.createObjectURL(n);e({audioBlob:n,audioUrl:o,audioName:""})}),n.stop()}}})()}uploadPodbook(t){const{host:e,port:n,url:o}=u.N.apiRequest,i=`${e}:${n}${o}/podbooks`,{user_id:r,podbook:s}=t,c=new FormData;return Object.entries(s).forEach(([t,e])=>{c.append(t,e)}),c.append("user_id",r.toString()),this.http.post(i,c,{observe:"response"}).toPromise()}}return t.\u0275fac=function(e){return new(e||t)(g.LFG(f.eN))},t.\u0275prov=g.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var R=n(5170);let J=(()=>{class t{constructor(t){this.httpCLient=t}getSelectFormCategories(t){const{host:e,port:n,url:o}=u.N.apiRequest;return this.httpCLient.get(`${e}:${n}${o}/categories`,{params:{recordAmountLimit:t}})}}return t.\u0275fac=function(e){return new(e||t)(g.LFG(f.eN))},t.\u0275prov=g.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var F=n(1354),N=n(2232),D=n(665);const Q=["select_input"],E=["option"];function U(t,e){if(1&t){const t=g.EpF();g.TgZ(0,"div",11),g.NdJ("click",function(){return g.CHM(t),g.oxw().closeCombobox()}),g.qZA()}if(2&t){const t=g.oxw();g.uIk("aria-hidden",!t.isOpen)}}const Y=function(t){return{"focus-within":t}};function B(t,e){if(1&t&&(g.TgZ(0,"label",12),g._uU(1),g.qZA()),2&t){const t=g.oxw();g.Q6J("for",t.id)("ngClass",g.VKq(3,Y,t.isOpen)),g.xp6(1),g.Oqu(t.labelText)}}function L(t,e){if(1&t){const t=g.EpF();g.TgZ(0,"li",13,14),g.NdJ("click",function(){const e=g.CHM(t).$implicit;return g.oxw().selectOption(e)}),g._uU(2),g.qZA()}if(2&t){const t=e.$implicit;g.Q6J("value",t.cat_id),g.xp6(2),g.hij(" ",t.name,"")}}function G(t,e){if(1&t&&g.GkF(0,15),2&t){g.oxw();const t=g.MAs(13);g.Q6J("ngTemplateOutlet",t)}}function z(t,e){if(1&t&&(g.TgZ(0,"span",16),g._uU(1),g.qZA()),2&t){const t=g.oxw();g.xp6(1),g.Oqu(t.validationRequiredMessage)}}const H=function(t){return{"select-wrapper":!0,invalid:t}},V=function(t){return{"rotate-icon":t}};let j=(()=>{class t{constructor(){this.change=new g.vpe,this.validationRequiredMessage="Nenhum item foi selecionado",this.isOpen=!1,this.input=new D.NI(""),this.options=[],this.id="",this.labelText="",this.placeholder="",this.required=!1,this.value=""}ngOnInit(){this.required&&(()=>{this.input.setValidators([D.kI.required])})()}closeCombobox(){this.isOpen=!1}openCombobox(){this.isOpen=!0}toggleSelect(){this.isOpen?this.closeCombobox():this.openCombobox()}selectOption(t){this.input.setValue(t.name),this.value=t.cat_id,this.fieldRef.nativeElement.focus()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=g.Xpm({type:t,selectors:[["pod-select"]],viewQuery:function(t,e){if(1&t&&(g.Gf(Q,5),g.Gf(E,5)),2&t){let t;g.iGM(t=g.CRH())&&(e.fieldRef=t.first),g.iGM(t=g.CRH())&&(e.optionsRef=t)}},inputs:{options:"options",id:"id",labelText:"labelText",placeholder:"placeholder",required:"required"},outputs:{change:"change"},decls:14,vars:14,consts:[["class","backdrop-select","tabindex","0",3,"click",4,"ngIf"],[3,"ngClass"],[3,"for","ngClass",4,"ngIf"],["type","text","role","combobox","aria-owns","options-list","autocomplete","off",3,"formControl","id","focus"],["select_input",""],["tabindex","-1",3,"click"],["src","assets/icons/chevron-baixo.svg",3,"ngClass"],["id","options-list","role","listbox"],["class","option","role","option","tabindex","0",3,"value","click",4,"ngFor","ngForOf"],[3,"ngTemplateOutlet",4,"ngIf"],["error",""],["tabindex","0",1,"backdrop-select",3,"click"],[3,"for","ngClass"],["role","option","tabindex","0",1,"option",3,"value","click"],["option",""],[3,"ngTemplateOutlet"],[1,"error-message"]],template:function(t,e){1&t&&(g.YNc(0,U,1,1,"div",0),g.TgZ(1,"label"),g.TgZ(2,"div",1),g.YNc(3,B,2,5,"label",2),g.TgZ(4,"div"),g.TgZ(5,"input",3,4),g.NdJ("focus",function(){return e.toggleSelect()}),g.qZA(),g.TgZ(7,"button",5),g.NdJ("click",function(){return e.toggleSelect()}),g._UZ(8,"img",6),g.qZA(),g.qZA(),g.TgZ(9,"ul",7),g.YNc(10,L,3,2,"li",8),g.qZA(),g.qZA(),g.YNc(11,G,1,1,"ng-container",9),g.qZA(),g.YNc(12,z,2,1,"ng-template",null,10,g.W1O)),2&t&&(g.Q6J("ngIf",e.isOpen),g.xp6(2),g.Q6J("ngClass",g.VKq(10,H,e.input.invalid&&e.input.dirty)),g.xp6(1),g.Q6J("ngIf",e.labelText),g.xp6(2),g.Q6J("formControl",e.input)("id",e.id),g.uIk("aria-expanded",e.isOpen),g.xp6(3),g.Q6J("ngClass",g.VKq(12,V,e.isOpen)),g.xp6(1),g.uIk("list-open",e.isOpen),g.xp6(1),g.Q6J("ngForOf",e.options),g.xp6(1),g.Q6J("ngIf",e.input.invalid&&e.input.dirty))},directives:[o.O5,o.mk,D.Fj,D.JJ,D.oH,o.sg,o.tP],styles:[".backdrop-select[_ngcontent-%COMP%]{position:fixed;width:100%;height:100vh;top:0;left:0}.select-wrapper[_ngcontent-%COMP%]{min-width:35.5rem;width:auto;position:relative}.select-wrapper[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .select-wrapper[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], .select-wrapper[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{transition:.2s ease}.select-wrapper[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:inline;color:#c4c4c4;font-size:1.2rem}.select-wrapper[_ngcontent-%COMP%]   label.focus-within[_ngcontent-%COMP%]{color:#8348ff}.select-wrapper[_ngcontent-%COMP%]   label.focus-within[_ngcontent-%COMP%] + div[_ngcontent-%COMP%]{border:1px solid #8348ff}.select-wrapper[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{background-color:#f5f5f5;display:flex;grid-column-gap:1rem;column-gap:1rem;align-items:center;margin-top:1rem;min-height:5rem;border-radius:5px;overflow:hidden;padding:1rem 2rem;border:1px solid #0000}.select-wrapper[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{outline:none;border:0;flex:1;height:100%;background:#0000;font-size:1.6rem;color:#2e1c54}.select-wrapper[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::-webkit-input-placeholder{color:#c4c4c4;font-weight:300}.select-wrapper[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:none;border:none;height:auto;line-height:0}.select-wrapper[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{transition:.1s ease;cursor:pointer;height:15px;width:15px}.select-wrapper[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   img.rotate-icon[_ngcontent-%COMP%]{transform:rotate(180deg)}.select-wrapper[_ngcontent-%COMP%]:focus-within   .focus-within[_ngcontent-%COMP%], .select-wrapper[_ngcontent-%COMP%]:focus-within   label[_ngcontent-%COMP%]{color:#8348ff}.select-wrapper[_ngcontent-%COMP%]:focus-within   div[_ngcontent-%COMP%]{border:1px solid #8348ff}.select-wrapper.invalid[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#da5454}.select-wrapper.invalid[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{border-color:#da5454}.select-wrapper[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;box-shadow:0 5px 10px #0000001a;margin-top:1rem;transition:.2s ease;overflow:hidden auto;border-radius:5px;position:absolute;width:100%;background:#fff;z-index:1}.select-wrapper[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]::-webkit-scrollbar{width:5px;background:#f5f5f5}.select-wrapper[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{width:5px;background:#8348ff}.select-wrapper[_ngcontent-%COMP%]   ul[list-open=false][_ngcontent-%COMP%]{transform:translateY(10px);opacity:0;visibility:hidden}.select-wrapper[_ngcontent-%COMP%]   ul[list-open=true][_ngcontent-%COMP%]{transform:translateY(0);opacity:1;visibility:visible}.select-wrapper[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{transition:.2s ease;padding:2rem 1rem;font-size:1.6rem}.select-wrapper[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:focus, .select-wrapper[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background-color:#f5f5f5;color:#8348ff}.error-message[_ngcontent-%COMP%]{color:#da5454;display:block;height:2rem;line-height:3rem}"]}),t})();const $=["preview"],K=["previewLabel"],X=["title"],W=["category"];function tt(t,e){1&t&&g._UZ(0,"div",27)}function et(t,e){1&t&&(g.TgZ(0,"span",28,29),g._uU(2,"save"),g.qZA())}const nt=function(t){return["alert",t]},ot=function(t){return["microphone",t]};let it=(()=>{class t{constructor(t,e,n,o,i,r){this.recordingService=t,this.audioControlService=e,this.renderer=n,this.userService=o,this.recordFormService=i,this.router=r,this.unsubscriber=new Z.xQ,this.actionButtonsDisabled=!0,this.buttonIsDisabled=!1,this.modalFieldsValidators={title:[{validationName:"required",validationErrorMessage:"Campo obrigat\xf3rio"}],category:[{validationName:"required",validationErrorMessage:"Campo obrigat\xf3rio"}],description:[{validationName:"required",validationErrorMessage:"Campo obrigat\xf3rio"}]},this.categoryOptions=[],this.modalIsVisible=!1,this.recordingStatus=q.STOPPED,this.loading=!1,this.alert={message:"",type:""}}ngOnInit(){this.userService.getUser().pipe((0,A.P)()).subscribe(t=>{this.userId=t.user_id,console.log(null==t?void 0:t.user_id)})}toggleRecordingStatus(){this.recordingStatus==q.STOPPED?this.startRecordingAudio():this.stopRecordingAudio()}startRecordingAudio(){var t=this;return y(function*(){t.actionButtonsDisabled=!0;try{t.recorder=t.recordingService.recordAudio(),t.recordingStatus=q.RECORDING;const{start:e}=yield t.recorder;e(),t.audioControlService.setAudioPlayingStatus=x.o.playing,t.alert={type:"success",message:"recording started"}}catch(e){t.recordingStatus=q.STOPPED,t.alert={type:"error",message:e.message}}t.resetMessageBoxInSeconds(4e3)})()}resetMessageBoxInSeconds(t=0){setTimeout(()=>this.alert={message:"",type:""},t)}stopRecordingAudio(){var t=this;return y(function*(){try{t.recordingStatus=q.STOPPED;const{stop:e}=yield t.recorder;e(e=>{var n;0!=(null===(n=null==e?void 0:e.audioBlob)||void 0===n?void 0:n.size)&&(t.audioControlService.audioData.next(e),t.actionButtonsDisabled=!1)})}catch(e){t.alert={type:"error",message:e.message},t.resetMessageBoxInSeconds(4e3)}})()}setImagePreview(t){if(0==t.target.files.length)return void this.renderer.removeClass(this.imageElement,"imagePreview");const e=URL.createObjectURL(t.target.files[0]);this.renderer.setAttribute(this.imageElement.nativeElement,"src",e),this.renderer.setAttribute(this.imageElement.nativeElement,"havePreview","true")}openModal(){this.modalIsVisible=!0,this.loadSelectFieldCategories(),this.modalInputTitle.fieldRef.nativeElement.focus()}loadSelectFieldCategories(){this.categoryOptions.length>0||this.recordFormService.getSelectFormCategories(15).pipe((0,I.R)(this.unsubscriber),(0,S.b)(t=>this.categoryOptions=t)).subscribe()}closeModal(t){var e;"modal"==(null===(e=null==t?void 0:t.target)||void 0===e?void 0:e.id)&&(this.modalIsVisible=!1,this.selectComponent.closeCombobox())}toggleModal(){this.modalIsVisible?this.closeModal():this.openModal()}getReadyPodbookData(t,e){var n;const[o,i,r]=t.map(t=>t.value),{audioBlob:s}=this.audioControlService.audioData.value;if(!(null===(n=e.files)||void 0===n?void 0:n.length))return this.previewLabel.nativeElement.click(),{type:"error",message:"selecione uma imagem para o banner"};let c=!1;if(s&&(c=Boolean((0,k.O)(t)&&(0,k.D)(s))),!c)return{type:"error",message:"formul\xe1rio inv\xe1lido, preencha todos os campos"};const a=s?new File([s],"audio.mp3",{lastModified:Date.now(),type:"audio/mp3"}):{};return{data:{user_id:this.userId,podbook:{bannerImage:e.files[0],bannerTitle:o,description:r,category:i,audio:a}},type:"success",msg:""}}saveRecordedAudio(t,e){this.loading=!0;try{const{data:n,type:o,message:i}=this.getReadyPodbookData(t,e);if("error"===o)throw new Error(i);"success"===o&&n&&this.recordingService.uploadPodbook(n).then(t=>{this.alert={type:"success",message:t.body.message},this.resetMessageBoxInSeconds(4e3)}).catch(({error:t,status:e})=>{if(401===e)return this.audioControlService.closeAudioBar(),this.userService.logout(),this.alert={type:"error",message:t.message},void this.router.navigate(["sign-in"]);this.alert={type:"error",message:t.message}})}catch(n){this.alert={type:"error",message:n.message},this.resetMessageBoxInSeconds(4e3)}this.loading=!1}getRecordingStatusClass(){return w[this.recordingStatus]}repeat(){var t=this;return y(function*(){t.audioControlService.audioData.next({}),yield t.startRecordingAudio()})()}ngOnDestroy(){this.unsubscriber.next(),this.unsubscriber.complete()}}return t.\u0275fac=function(e){return new(e||t)(g.Y36(T),g.Y36(R.g),g.Y36(g.Qsj),g.Y36(h.K),g.Y36(J),g.Y36(d.F0))},t.\u0275cmp=g.Xpm({type:t,selectors:[["pod-record-studio"]],viewQuery:function(t,e){if(1&t&&(g.Gf($,5),g.Gf(K,5),g.Gf(X,5),g.Gf(W,5)),2&t){let t;g.iGM(t=g.CRH())&&(e.imageElement=t.first),g.iGM(t=g.CRH())&&(e.previewLabel=t.first),g.iGM(t=g.CRH())&&(e.modalInputTitle=t.first),g.iGM(t=g.CRH())&&(e.selectComponent=t.first)}},decls:32,vars:21,consts:[[1,"studio"],[3,"ngClass"],[3,"ngClass","click"],["src","assets/icons/microphone-icon.svg","alt","Microphone icon"],["name","salvar","icon","assets/icons/save-icon-white.svg","borderRadius","50px",1,"control-button",3,"click"],["name","compartilhar","icon","assets/icons/share-icon-white.svg","borderRadius","50px",1,"control-button"],["name","descartar","icon","assets/icons/delete-icon-white.svg","borderRadius","50px",1,"control-button"],["name","repetir","icon","assets/icons/repeat-recording-icon-white.svg","borderRadius","50px",1,"control-button",3,"click"],["id","modal",3,"click"],[1,"modal-content"],[1,"modal-body"],["for","upload-file"],["previewLabel",""],["src","assets/illustrations/gallery.svg","alt","preview image",1,"prev"],["preview",""],["type","file","accept","image/png, image/jpeg","id","upload-file",3,"change"],["file",""],[1,"text-fields"],["labelText","podbook title",1,"field-title",3,"validations"],["title",""],["labelText","podbook description",1,"field-category",3,"validations"],["description",""],["id","categoria","labelText","podbook category",3,"options","required"],["category",""],["contentText","save podbook","width","100%","height","50px","borderRadius","5px",1,"save-button",3,"click"],["role","progressbar","class","loader",4,"ngIf"],["role","text",4,"ngIf"],["role","progressbar",1,"loader"],["role","text"],["textButton",""]],template:function(t,e){if(1&t){const t=g.EpF();g.TgZ(0,"div",0),g.TgZ(1,"span",1),g._uU(2),g.qZA(),g.TgZ(3,"button",2),g.NdJ("click",function(){return e.toggleRecordingStatus()}),g.TgZ(4,"span"),g._UZ(5,"img",3),g.qZA(),g.qZA(),g.TgZ(6,"footer"),g.TgZ(7,"pod-button",4),g.NdJ("click",function(){return e.openModal()}),g.qZA(),g._UZ(8,"pod-button",5),g._UZ(9,"pod-button",6),g.TgZ(10,"pod-button",7),g.NdJ("click",function(){return e.repeat()}),g.qZA(),g.qZA(),g.qZA(),g.TgZ(11,"div",8),g.NdJ("click",function(t){return e.closeModal(t)}),g.TgZ(12,"div",9),g.TgZ(13,"h1"),g._uU(14,"Save my podbook"),g.qZA(),g.TgZ(15,"div",10),g.TgZ(16,"label",11,12),g._UZ(18,"img",13,14),g.TgZ(20,"input",15,16),g.NdJ("change",function(t){return e.setImagePreview(t)}),g.qZA(),g.qZA(),g.TgZ(22,"div",17),g._UZ(23,"pod-form-field",18,19),g._UZ(25,"pod-form-field",20,21),g._UZ(27,"pod-select",22,23),g.TgZ(29,"pod-button",24),g.NdJ("click",function(){g.CHM(t);const n=g.MAs(24),o=g.MAs(28),i=g.MAs(26),r=g.MAs(21);return e.saveRecordedAudio([n,o,i],r)}),g.YNc(30,tt,1,0,"div",25),g.YNc(31,et,3,0,"span",26),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA()}2&t&&(g.uIk("tabindex",e.modalIsVisible?-1:0),g.xp6(1),g.Q6J("ngClass",g.VKq(17,nt,e.alert.type)),g.xp6(1),g.Oqu(e.alert.message),g.xp6(1),g.Q6J("ngClass",g.VKq(19,ot,e.getRecordingStatusClass())),g.xp6(4),g.uIk("disabled",e.actionButtonsDisabled),g.xp6(1),g.uIk("disabled",e.actionButtonsDisabled),g.xp6(1),g.uIk("disabled",e.actionButtonsDisabled),g.xp6(1),g.uIk("disabled",e.actionButtonsDisabled),g.xp6(1),g.uIk("visibility",e.modalIsVisible),g.xp6(7),g.uIk("havePreview",!1),g.xp6(5),g.Q6J("validations",e.modalFieldsValidators.title),g.xp6(2),g.Q6J("validations",e.modalFieldsValidators.description),g.xp6(2),g.Q6J("options",e.categoryOptions)("required",!0),g.xp6(2),g.uIk("disabled",e.buttonIsDisabled),g.xp6(1),g.Q6J("ngIf",e.loading),g.xp6(1),g.Q6J("ngIf",!e.loading))},directives:[o.mk,F.r,N.h,j,o.O5],styles:['#modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%] > label[_ngcontent-%COMP%]   img.prev[havePreview=true][_ngcontent-%COMP%]{width:100%;height:100%}.studio[_ngcontent-%COMP%]{display:flex;align-items:center;flex-direction:column;margin-top:15rem}.studio[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]{position:fixed;top:20rem;right:4rem;font-size:1rem;max-width:22rem;width:100%;min-height:55px;background:#fff;padding:2rem;border-radius:2px;text-align:center;word-wrap:break-word;box-shadow:0 5px 10px #da54541a;display:block;z-index:20;opacity:0;transform:translateY(4rem);transition:.3s ease;cursor:pointer}.studio[_ngcontent-%COMP%]   .alert.error[_ngcontent-%COMP%]{opacity:1;transform:translateY(0);border:1px solid #da5454;color:#da5454}.studio[_ngcontent-%COMP%]   .alert.success[_ngcontent-%COMP%]{opacity:1;transform:translateY(0);border:1px solid #24994b;color:#24994b}.studio[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:none;cursor:pointer}.studio[_ngcontent-%COMP%]   .microphone[_ngcontent-%COMP%]{background-color:#8348ff;display:flex;align-items:center;justify-content:center;border-radius:50%;height:20.4rem;width:20.4rem;margin-top:2rem;opacity:0;animation:splashAnimation .5s ease-in-out forwards;transform:scale(.8)}@keyframes splashAnimation{to{opacity:1;transform:scale(1)}}@keyframes recordingStatus{0%{opacity:0}to{opacity:1;width:inherit;height:inherit}}.studio[_ngcontent-%COMP%]   .microphone[_ngcontent-%COMP%]:after, .studio[_ngcontent-%COMP%]   .microphone[_ngcontent-%COMP%]:before, .studio[_ngcontent-%COMP%]   .microphone[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:after{content:"";position:absolute;border-radius:50%;display:block;background-color:#8348ff;z-index:0;pointer-events:none}.studio[_ngcontent-%COMP%]   .microphone[_ngcontent-%COMP%]:before{height:25rem;width:25rem}.studio[_ngcontent-%COMP%]   .microphone[_ngcontent-%COMP%]:after{height:30rem;width:30rem}.studio[_ngcontent-%COMP%]   .microphone[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:relative;width:inherit;height:inherit;display:inherit;align-items:inherit;justify-content:inherit}.studio[_ngcontent-%COMP%]   .microphone[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:after{height:35rem;width:35rem}.studio[_ngcontent-%COMP%]   .microphone[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{filter:invert(100%);transform:scale(4.5);z-index:5}.studio[_ngcontent-%COMP%]   .microphone.--recording[_ngcontent-%COMP%]:after, .studio[_ngcontent-%COMP%]   .microphone.--recording[_ngcontent-%COMP%]:before, .studio[_ngcontent-%COMP%]   .microphone.--recording[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:after{animation:recordingStatus 1.2s ease-in-out infinite reverse}.studio[_ngcontent-%COMP%]   .microphone.--recording[_ngcontent-%COMP%]:after, .studio[_ngcontent-%COMP%]   .microphone.--recording[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:after{opacity:0}.studio[_ngcontent-%COMP%]   .microphone.--stopped[_ngcontent-%COMP%]:after, .studio[_ngcontent-%COMP%]   .microphone.--stopped[_ngcontent-%COMP%]:before, .studio[_ngcontent-%COMP%]   .microphone.--stopped[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:after{animation:none;opacity:0}.studio[_ngcontent-%COMP%]   footer[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;grid-column-gap:7rem;column-gap:7rem;margin-top:20rem}@keyframes staggerAnimation{to{opacity:1;transform:translateY(0)}}.studio[_ngcontent-%COMP%]   footer[_ngcontent-%COMP%]   .control-button[_ngcontent-%COMP%]{opacity:0;transform:translateY(50px);transition:.5s ease;animation:staggerAnimation 1s cubic-bezier(.68,-.6,.32,3) forwards;position:relative;width:4rem}.studio[_ngcontent-%COMP%]   footer[_ngcontent-%COMP%]   .control-button[_ngcontent-%COMP%]:nth-child(0){animation-delay:0s}.studio[_ngcontent-%COMP%]   footer[_ngcontent-%COMP%]   .control-button[_ngcontent-%COMP%]:first-child{animation-delay:.1s}.studio[_ngcontent-%COMP%]   footer[_ngcontent-%COMP%]   .control-button[_ngcontent-%COMP%]:nth-child(2){animation-delay:.2s}.studio[_ngcontent-%COMP%]   footer[_ngcontent-%COMP%]   .control-button[_ngcontent-%COMP%]:nth-child(3){animation-delay:.3s}.studio[_ngcontent-%COMP%]   footer[_ngcontent-%COMP%]   .control-button[_ngcontent-%COMP%]:nth-child(4){animation-delay:.4s}.studio[_ngcontent-%COMP%]   footer[_ngcontent-%COMP%]   .control-button[_ngcontent-%COMP%]:nth-child(5){animation-delay:.5s}#modal[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;display:flex;align-items:center;justify-content:center;background:#00000080;z-index:14;transition:.3s ease}#modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{padding:3rem 3rem 5rem;background-color:#fff;border-radius:2px;transition:.3s ease}#modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#8348ff;padding-bottom:2.5rem;border-bottom:1px solid #e5e5e5}#modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]{display:grid;grid-column-gap:5rem;column-gap:5rem;grid-template-columns:400px 480px;margin-top:3rem}#modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%] > label[_ngcontent-%COMP%]{display:flex;width:100%;height:387px;cursor:pointer;background:#f5f5f5;transition:.5s ease}#modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%] > label[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:40%;height:40%;display:block;margin:auto}#modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%] > label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:none}#modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%] > label[_ngcontent-%COMP%]:hover{opacity:.8}#modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .save-button[_ngcontent-%COMP%]{margin-top:1rem;transition:.5s ease}#modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .save-button[_ngcontent-%COMP%]:hover{opacity:.6}@keyframes spinner{to{transform:rotate(1turn)}}#modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .save-button[_ngcontent-%COMP%]   .loader[_ngcontent-%COMP%]{border-radius:50%;width:2rem;height:2rem;border:3px solid #0000;border-left-color:#fff;animation:spinner .7s linear infinite}#modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .text-fields[_ngcontent-%COMP%]{display:flex;flex-direction:column;grid-row-gap:1.5rem;row-gap:1.5rem;justify-content:space-between}#modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .text-fields[_ngcontent-%COMP%]   .field-category[_ngcontent-%COMP%], #modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .text-fields[_ngcontent-%COMP%]   .field-description[_ngcontent-%COMP%], #modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .text-fields[_ngcontent-%COMP%]   .field-title[_ngcontent-%COMP%]{height:94px}#modal[visibility=false][_ngcontent-%COMP%]{pointer-events:none;opacity:0}#modal[visibility=false][_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{transform:translateY(100px)}#modal[visibility=true][_ngcontent-%COMP%]{pointer-events:all;opacity:1}#modal[visibility=true][_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{transform:translateY(0)}']}),t})();const rt=function(t){return{"--selected":t}},st=["*"];let ct=(()=>{class t{constructor(){this.callbackFn=()=>{},this.title="",this.selected=!1}set callback(t){this.callbackFn=t}get callBackFunction(){return this.callbackFn}get selectedItem(){return this.selected}set selectItem(t){this.selected=t}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=g.Xpm({type:t,selectors:[["pod-tab-item"]],inputs:{title:"title",callback:"callback",selectItem:"selectItem"},ngContentSelectors:st,decls:2,vars:3,consts:[[1,"content",3,"ngClass"]],template:function(t,e){1&t&&(g.F$t(),g.TgZ(0,"div",0),g.Hsn(1),g.qZA()),2&t&&g.Q6J("ngClass",g.VKq(1,rt,e.selectedItem))},directives:[o.mk],styles:["[_nghost-%COMP%]{display:block}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]{padding:1rem 1rem 2rem;display:none}[_nghost-%COMP%]   .--selected[_ngcontent-%COMP%]{display:block}"]}),t})();const at=function(t){return{"--selected":t}};function lt(t,e){if(1&t){const t=g.EpF();g.TgZ(0,"li",4),g.NdJ("click",function(){const e=g.CHM(t).$implicit;return g.oxw(3).selectTab(e)}),g._uU(1),g.qZA()}if(2&t){const t=e.$implicit;g.Q6J("ngClass",g.VKq(2,at,t.selectedItem)),g.xp6(1),g.Oqu(t.title)}}function dt(t,e){if(1&t&&(g.TgZ(0,"ul"),g.YNc(1,lt,2,4,"li",3),g.qZA()),2&t){const t=g.oxw(2);g.xp6(1),g.Q6J("ngForOf",t.tabs)}}function gt(t,e){if(1&t&&g.YNc(0,dt,2,1,"ul",2),2&t){const t=g.oxw();g.Q6J("ngIf",t.tabs)}}function ut(t,e){1&t&&g.GkF(0)}const pt=["*"];let mt=(()=>{class t{constructor(){this.urlBased=!1}ngAfterContentInit(){this.setInitialState()}selectTab(t){t.callBackFunction(),this.tabs.forEach(t=>t.selectItem=!1),t.selectItem=!0}setInitialState(){this.tabs.some(t=>t.selectedItem)||this.tabs.forEach((t,e)=>{0===e&&(t.selectItem=!0)})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=g.Xpm({type:t,selectors:[["pod-tab"]],contentQueries:function(t,e,n){if(1&t&&g.Suo(n,ct,4),2&t){let t;g.iGM(t=g.CRH())&&(e.tabs=t)}},inputs:{urlBased:"urlBased"},ngContentSelectors:pt,decls:4,vars:1,consts:[["tabHeader",""],[4,"ngTemplateOutlet"],[4,"ngIf"],[3,"ngClass","click",4,"ngFor","ngForOf"],[3,"ngClass","click"]],template:function(t,e){if(1&t&&(g.F$t(),g.YNc(0,gt,1,1,"ng-template",null,0,g.W1O),g.YNc(2,ut,1,0,"ng-container",1),g.Hsn(3)),2&t){const t=g.MAs(1);g.xp6(2),g.Q6J("ngTemplateOutlet",t)}},directives:[o.tP,o.O5,o.sg,o.mk],styles:["[_nghost-%COMP%]{font-family:sans-serif;height:auto;width:auto;border-radius:5px;display:block}[_nghost-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;display:flex;grid-column-gap:2rem;column-gap:2rem;padding:0;justify-content:center}[_nghost-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{text-align:center;cursor:pointer;border-radius:50px;padding:.6rem;transition:.5s ease;border:1px solid #8348ff;min-width:8em}[_nghost-%COMP%]   .--selected[_ngcontent-%COMP%]{background-color:#8348ff;color:#fff}"],changeDetection:0}),t})();function ft(t,e){if(1&t&&g._UZ(0,"img",2),2&t){const t=g.oxw();g.Q6J("src",t.src,g.LSH)}}let ht=(()=>{class t{constructor(){this.callbackFn=()=>{},this.src=""}set callback(t){this.callbackFn=t}get callback(){return this.callbackFn}executeCallback(){this.callbackFn()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=g.Xpm({type:t,selectors:[["pod-float-button"]],inputs:{src:"src",callback:"callback"},decls:2,vars:1,consts:[[3,"click"],[3,"src",4,"ngIf"],[3,"src"]],template:function(t,e){1&t&&(g.TgZ(0,"button",0),g.NdJ("click",function(){return e.executeCallback()}),g.YNc(1,ft,1,1,"img",1),g.qZA()),2&t&&(g.xp6(1),g.Q6J("ngIf",e.src))},directives:[o.O5],styles:["button[_ngcontent-%COMP%]{width:6rem;height:6rem;display:grid;place-items:center;border-radius:50%;border:0;background-color:#8348ff;box-shadow:0 17px 40px #8348ff66;cursor:pointer;transition:.5s ease}button[_ngcontent-%COMP%]:hover{opacity:.9;box-shadow:0 17px 40px #8348ffe6}button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{filter:invert(100%);transform:scale(1.8)}"]}),t})();function bt(t,e){if(1&t){const t=g.EpF();g.TgZ(0,"pod-float-button",5),g.NdJ("click",function(){return g.CHM(t),g.oxw().openStudio()}),g.qZA()}if(2&t){const t=g.oxw();g.Q6J("callback",t.tabStudioCallback)}}const Ct=function(){return["/podbooks"]},Ot=function(){return{exact:!0}},Mt=function(){return["studio"]},_t=[{path:"",component:(()=>{class t{constructor(t){this.route=t,this.tabitems=new g.n_E,this.notifier=new Z.xQ,this.tabStudioCallback=()=>{this.currentUrl="/podbooks/studio",this.route.navigate(["/podbooks/studio"])},this.tabPodbooksCallback=()=>{this.currentUrl="/podbooks",this.route.navigate(["/podbooks"])},this.currentUrl=""}ngOnInit(){}ngOnDestroy(){this.notifier.next(),this.notifier.complete()}isSelected(t){return this.currentUrl===t}openStudio(){this.tab.selectTab(this.tabitems.last)}}return t.\u0275fac=function(e){return new(e||t)(g.Y36(d.F0))},t.\u0275cmp=g.Xpm({type:t,selectors:[["pod-studio"]],viewQuery:function(t,e){if(1&t&&(g.Gf(mt,5),g.Gf(ct,5)),2&t){let t;g.iGM(t=g.CRH())&&(e.tab=t.first),g.iGM(t=g.CRH())&&(e.tabitems=t)}},decls:9,vars:9,consts:[[1,"studio-container"],[1,"tabs-container"],[1,"tabs"],["tabindex","0","routerLinkActive","active-link",3,"routerLink","routerLinkActiveOptions"],["tabindex","0","src","assets/icons/plus-icon.svg",3,"callback","click",4,"ngIf"],["tabindex","0","src","assets/icons/plus-icon.svg",3,"callback","click"]],template:function(t,e){1&t&&(g.TgZ(0,"div",0),g.TgZ(1,"div",1),g.TgZ(2,"div",2),g.TgZ(3,"a",3),g._uU(4,"my podbooks"),g.qZA(),g.TgZ(5,"a",3),g._uU(6,"studio"),g.qZA(),g.qZA(),g.qZA(),g._UZ(7,"router-outlet"),g.qZA(),g.YNc(8,bt,1,1,"pod-float-button",4)),2&t&&(g.xp6(3),g.Q6J("routerLink",g.DdM(5,Ct))("routerLinkActiveOptions",g.DdM(6,Ot)),g.xp6(2),g.Q6J("routerLink",g.DdM(7,Mt))("routerLinkActiveOptions",g.DdM(8,Ot)),g.xp6(3),g.Q6J("ngIf",e.isSelected("/podbooks")))},directives:[d.yS,d.Od,d.lC,o.O5,ht],styles:[".studio-container[_ngcontent-%COMP%]{min-height:100vh;margin:8rem 0 20rem}.studio-container[_ngcontent-%COMP%]   .tabs-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:10rem}.studio-container[_ngcontent-%COMP%]   .tabs-container[_ngcontent-%COMP%]   .tabs[_ngcontent-%COMP%]{display:flex;grid-column-gap:1rem;column-gap:1rem}.studio-container[_ngcontent-%COMP%]   .tabs-container[_ngcontent-%COMP%]   .tabs[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-align:center;cursor:pointer;border-radius:50px;padding:.6rem;transition:.5s ease;border:1px solid #8348ff;min-width:8em;text-decoration:none;color:#8348ff}.studio-container[_ngcontent-%COMP%]   .tabs-container[_ngcontent-%COMP%]   .tabs[_ngcontent-%COMP%]   a.active-link[_ngcontent-%COMP%]{background:#8348ff;color:#fff}pod-float-button[_ngcontent-%COMP%]{display:block;position:fixed;bottom:8rem;right:12vw;z-index:10}"]}),t})(),children:[{path:"",component:P},{path:"studio",component:it}]}];let Pt=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=g.oAB({type:t}),t.\u0275inj=g.cJS({imports:[[d.Bz.forChild(_t)],d.Bz]}),t})();var vt=n(5632),yt=n(2729),xt=n(8546);let kt=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=g.oAB({type:t}),t.\u0275inj=g.cJS({providers:[{provide:b,useExisting:C}],imports:[[o.ez,r.d,c.M,a.i,s.n,Pt,l.I,i.x,s.n,vt.h,yt.k,xt.A]]}),t})()}}]);